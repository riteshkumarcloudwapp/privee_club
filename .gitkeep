// NOTES
// UTILS - reusable code is in the utils folder like multer etc.

// dotenv - all sensetive data are kept .
// where we put db config and server related environment variable.

// So insted of writing
// Import dotenv from .env
// then config dotenv file
// we push all the env var into a common env configuration file.
// then use it .

//DB connection
//1ï¸âƒ£ Install required packages
//2ï¸âƒ£ .env file (Database config)
//3ï¸âƒ£ envconfig.js
//4ï¸âƒ£ Create Sequelize instance

// Always use fcm token in user resgister and login. *always add language filed in it.
// Make single Api through type and value fieds in json.(In postman)(eg. selfie and bestPic)
// use type and value method.

//always use joi module for validation of request body and query params. 
// and also pagination whenever you get data and make a list of data.


//NOTES
// Always make a seperate image table for image and use increnment way to store image.
// Becs increnment way is much better than comma seperated becs operation is easy on it.
// when yyou want to bilk upload anything  at ones always use map function for it.
// always use increnment way to store id.


//Register user
Validate data
Check user exist
Generate OTP
Store OTP
Send OTP
Create user ONLY after OTP verification

OTP in registration is used to:

âœ… Verify ownership

âœ… Prevent fake accounts

âœ… Increase security

âœ… Activate account safely

âœ… Enable password reset later



What is a Templating Engine?

A templating engine allows you to:

Write normal HTML

Insert dynamic data inside it

Render it from backend

ðŸ“Œ What is Handlebars (HBS)?

Handlebars is:

A simple HTML templating engine

Logic-less (very minimal logic inside HTML)

Commonly used with Express

It uses {{ }} syntax.


// Email sending steps
1.Install Nodemailer -> its a mail sending nodejs library. This package enables us to send emails from our Node.js applications using various email services (like Gmail, Outlook, etc.)to other people
2.Create a Transporter Object ->  This object contains the configuration for your email service's SMTP server and your authentication details.
const nodemailer = require('nodemailer');

const transporter = nodemailer.createTransport({
  service: 'gmail', // Use well-known service name or specify host/port
  auth: {
    user: 'your-email@gmail.com', // Your email address
    pass: 'your-app-password'   // Your generated App Password
  }
});

3.Define Mail Options -> Create an object that defines the content and recipients of the email.
const mailOptions = {
  from: '"Your Name" <your-email@gmail.com>', // Sender address and name
  to: 'recipient-email@example.com, another-recipient@example.com', // List of receivers (comma-separated or array)
  subject: 'Hello from Nodemailer!', // Subject line
  text: 'This is the plain text body of the email.', // Plain text body
  html: '<b>This is the HTML body of the email.</b>' // HTML body (optional)
};

4.Send the Email -> Use the transporter.sendMail() method, passing the mailOptions object and a callback function to handle the response or any errors.
transporter.sendMail(mailOptions, (error, info) => {
  if (error) {
    console.error('Error sending email:', error);
  } else {
    console.log('Email sent:', info.response);
  }
});
